% ä¿ºæ§˜ç”¨XeLaTeXã‚¹ã‚¿ã‚¤ãƒ«ã ã‚ˆï½ğŸ¤—ğŸ¤—

% ãƒ•ã‚©ãƒ³ãƒˆ
\usepackage{zxjatype}
\usepackage[ipa]{zxjafont}
\usepackage{fontspec}
% \setmonofont{Ricty Diminished}  % è¡¨ç¤ºã•ã‚Œã‚“monospaceæ–‡å­—ã‚ã£ãŸã¨ãã¨ã‹ã«
\usepackage{color}


% æ•°å¼
\usepackage{amsmath,amssymb,amsthm}  % ã¤ã‚ˆæ•°å¼ç’°å¢ƒ
\usepackage{siunitx}  % SIå˜ä½
\usepackage{bm}  % å¤ªå­—ã®ãƒ™ã‚¯ãƒˆãƒ«è¡¨è¨˜
\usepackage{braket}  % é›†åˆè¡¨ç¾ï¼Œæ³¢æ‹¬å¼§ã“ã‚Œã§ã‚ˆãã­ï¼\Set{}, \set{}
\usepackage{array}  % æ•°å¼ç’°å¢ƒã§è¡¨
\usepackage{cancel}  % æ•°ã«æ–œç·šå…¥ã‚Œã‚‹ã‚„ã¤
\usepackage{diffcoeff}  % å¾®åˆ†ã‚«ãƒ³ã‚¿ãƒ³ã«æ›¸ã‘ã‚‹ã£ã¦ã•
% ã‚µã‚¤ã‚ºè‡ªå‹•èª¿æ•´æ‹¬å¼§ãã‚“ç°¡ç•¥åŒ–ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™
\newcommand{\paren}[1]{\left(#1\right)}
\newcommand{\Brace}[1]{\left\{#1\right\}}
\newcommand{\sbra}[1]{\left\lbrack#1\right\rbrack}
\newcommand{\abra}[1]{\left\langle#1\right\rangle}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\left\|#1\right\|}
% extra math operators
% æ–œä½“ã«ã—ãªã„ã§ã®ã‚„ã¤
\newcommand{\grad}{\mathop{\mathrm{grad}}\nolimits}
% \nolimitsãªã—ã ã¨ï¼Œdisplayç’°å¢ƒã§ä¸‹ä»˜ãæ–‡å­—ãŒçœŸä¸‹ã«ã¤ã
% ã‚ã–ã‚ã–\expã‚³ãƒãƒ³ãƒ‰ä½¿ã†ã®ã¯æŒ‡æ•°éƒ¨ãŒè¤‡é›‘ãªã¨ããªã®ã«æ‹¬å¼§ãªã—ã¯ã­ã‚§ã ã‚ã†ã‚ˆ
\renewcommand{\exp}[1]{\mathop{\mathrm{exp}}\nolimits\paren{#1}}

% è¨¼æ˜ç’°å¢ƒï¼\qedhereã§â–¡å‡ºåŠ›
\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item[\hskip\labelsep
        \itshape
    #1\@addpunct{}]\ignorespaces
}{%
  %\popQED\endtrivlist\@endpefalse  % å‹æ‰‹ã«qedå…¥ã‚‰ãªã„ã‚ˆã†ã«
  \endtrivlist\@endpefalse
}
\renewcommand{\proofname}{\Ovalbox{\bf è¨¼æ˜}}
\makeatother

% ! è¡Œé–“ã«æ–‡ç« å…¥ã‚ŒãŸã‘ã‚Œã°\intertext{æ–‡ç« }
% alignatã‚’ä½¿ã†ã¨å¶æ•°ç•ªç›®ã®&ã§ç©ºç™½ãŒå…¥ã‚‰ãªã„ï¼\begin{alignat}{(è¡Œã”ã¨ã®&ã®å€‹æ•°+1)/2}
% alignedã¯equationå†…ãªã©ã§éƒ¨åˆ†çš„ã«ä½ç½®æƒãˆãŸã„ã¨ãã«
% alignedatã¯alignatã®alignedç‰ˆ
% gatherã¯ã„ã£ã±ã„ã®å¼ã‚’ä¸­å¤®æƒãˆã—ãŸã„ã¨ãã«ï¼åˆ¥è¡Œç«‹ã¦ç’°å¢ƒ
% gatheredã¯alignedã®gatherç‰ˆã¿ãŸã„ãªã®
% multilineã¯é•·ã„æ•°å¼ã‚’è¤‡æ•°è¡Œã«å‹æ‰‹ã«ã„ã„æ„Ÿã˜ã«ã—ã¦ãã‚Œã‚‹ã‚„ã¤ï¼labelã¯æœ€å¾Œã®è¡Œã®ã¿
% splitã¯alignedã®multilineç‰ˆã¿ãŸã„ãªã®ï¼gatherç’°å¢ƒæ¨å¥¨ã‚‰ã—ã„ï¼&ã¯å„è¡Œã§1åº¦ã ã‘ä½¿ãˆã‚‹
% ä»¥ä¸‹2è¡Œã‚’åŠ ãˆã‚‹ã¨ï¼Œå‚ç…§ã—ãŸæ•°å¼ã«ã®ã¿æ•°å¼ç•ªå·ãŒä»˜ä¸ã•ã‚Œã‚‹ï¼ã“ã‚Œä½¿ãˆã°*ã„ã‚‰ã‚“ã­
% \usepackage{mathtools}
% \mathtoolsset{showonlyrefs=true}
% è»¢ç½®ã®Tã¯\top
% æŒ‡æ•°é–¢æ•°ã®æŒ‡æ•°éƒ¨ãŒè¤‡é›‘ãªã¨ãã¯eã§ã¯ãªã\expã®æ–¹ãŒè¦‹ã‚„ã™ã„ã ã‚ã†
% ç©ºé›†åˆã¯\emptysetï¼Œé›†åˆã®å¼•ç®—ã¯\setminus
% ä¸‹ä»˜ãæ–‡å­—ã‚ã‚Šã®cup[cap]ã¯\bigcap[\bigcup]ã‚’ä½¿ãŠã†ï¼å¤–ç©ã‚‚åŒæ§˜ã«bigç‰ˆã‚’
% \phantom{text}ã§`text`éƒ¨åˆ†ã¨åŒã˜ã‚µã‚¤ã‚ºã®è¦‹ãˆãªã„ãƒœãƒƒã‚¯ã‚¹ã‚’ã¤ãã‚Œã‚‹ï¼ã“ã®é¡ã„ã‚ã„ã‚ã‚ã‚‹
% \qquad, \quad, ~, \;, \>, \:, \ , (\!ã“ã‚Œã¯ãƒã‚¤ãƒŠã‚¹)ã§ã‚‚å·¦å³ã®ç©ºç™½ã„ã‚Œã‚Œã‚‹ï¼å·¦ã¯å¤§ãã„é †
% \displaystyle ã‚’ä½¿ã†ã¨inlineã®åˆ†æ•°è¡¨è¨˜ã§å­—ãŒå°ã•ããªã‚‰ãšã«æ¸ˆã‚€ã‘ã©ãã‚‚ãã‚‚inlineã§\frac{}ä½¿ã†ãª
% ã‚³ãƒ³ãƒåŒºåˆ‡ã‚Šå†…ã§çœç•¥è¨˜å·ã‚’ä½¿ã†ã¨ãã¯\cdots{}ã§ã¯ãªã\ldots{}ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ï¼(a,b,...,f)ãªæ„Ÿã˜
% å¼•ç”¨ç¬¦ã¯""ã§ã¯ãªã``''ã§å…¥åŠ›ã™ã‚‹ã®ãŒæ­£ã—ã„
% è§’æ‹¬å¼§ã«ã¯<>ã§ã¯ãªã\langle\rangle


% å›³
\usepackage{graphicx}
\usepackage{float}  % for positioning to H of Figures
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{circuitikz}


% è¡¨
\usepackage{booktabs}  % top,mid,bottomrule
\usepackage{multirow}  % ã‚»ãƒ«ç¸¦çµåˆ
\usepackage{arydshln}  % ç ´ç·š
% ç¸¦ç·šã¯`:`ï¼Œæ¨ªç·šã¯`\hdashline, \cdashline`
% è¤‡æ•°è¡Œã«ã‚ãŸã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ç”¨ã®longtableç’°å¢ƒã¦ã®ã‚‚ã‚ã‚‹


% ç®‡æ¡æ›¸ã
\usepackage{enumerate}
% ã‚«ã‚¦ãƒ³ã‚¿æ–‡å­—åˆ—ã‚’å¤‰ãˆã‚‹ã¨ãã¯
% \begin{enumerate}[ã‚ã‚ã‚(ã“ã“ã«ã‚«ã‚¦ãƒ³ã‚¿)]
% ã‚«ã‚¦ãƒ³ã‚¿æ–‡å­—ã¯`1,A,a,I,i`
% æ–‡å­—åˆ—ä¸­ã«è§’æ‹¬å¼§ãªã©ã‚’å…¥ã‚Œã‚‹å ´åˆã¯ï¼Œã‚«ã‚¦ãƒ³ã‚¿æ–‡å­—ä»¥å¤–ã®ã¨ã“ã‚’`\textrm{...}ã—ã¦ã‚„ã‚‹ã¨ã„ã„
\usepackage{paralist}  % ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ãƒªã‚¹ãƒˆ
% e.g.) \begin{inparaenum}[(1)] \item ... \end{}.


% æ ä»˜ãæ–‡ç« 
\usepackage{ascmac}  % åˆ¥è¡Œã§å›²ã‚€ï¼ç·šå½¢ã®æˆæ¥­ãƒ—ãƒªãƒ³ãƒˆã§ã‚ˆãè¦‹ãŸã‚„ã¤
% \begin{itembox}[lcr]{title}...\end{} ã‚¿ã‚¤ãƒˆãƒ«ã®ä½ç½®ã‚’l:å·¦ã‹c:ä¸­å¤®ã‹r:å³ã§æŒ‡å®š
% \begin{boxnote}...\end{} ãƒªãƒ³ã‚°ãƒãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ï¼æ•™è‚²è€…ãŒä½¿ã„ãã†ãªã‚„ã¤
% \begin{shadebox}...\end{} æ ã®å½±ä»˜ãï¼webã§ä½¿ã‚ã‚Œã¦ã‚‹ã¨ã“è¦‹ãŸã“ã¨ã‚ã‚‹
\usepackage{fancybox}  % ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³
% \begin{fbox}...\end{} é•·æ–¹å½¢
% \begin{doublebox}...\end{} äºŒé‡fbox
% \begin{ovalbox}...\end{} è§’ãŒä¸¸ããªã£ãŸã­ï¼Ovalboxã«ã™ã‚‹ã¨æ ç·šãŒå¤ªããªã‚‹
% \begin{shadowbox}...\end{} shadeboxã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç‰ˆ


% ãã®ä»–æ–‡ç« ä¿®é£¾ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
\usepackage{url}
\usepackage{wrapfig}  % æ–‡ç« ã®å›ã‚Šè¾¼ã¿
\usepackage{pxrubrica}  % ãƒ«ãƒ“
% \usepackage{fancyhdr}  % ãƒ˜ãƒƒãƒ€ãƒ¼ã¤ã‘ã‚‹

\usepackage[electronic]{ifsym} % é›»æ°—å›è·¯ã‚·ãƒ³ãƒœãƒ«
% \RaisingEdge, \FallingEdge, \ShortPulseHigh, \ShortPulseLow,
% \PulseHigh, \PulseLow, \LongPulseHigh, \LongPulseLow


% ç›¸äº’å‚ç…§
\usepackage{hyperref}
\hypersetup{
  setpagesize=false,
  bookmarksnumbered=true,
  bookmarksopen=true,
  colorlinks=true,
  linkcolor=blue,
  citecolor=red,
}

\usepackage[noabbrev]{cleveref}
% crefã‚’refã¨è¦‹ã›ã‹ã‘ã‚‹
% hyperrefã¨ä½µç”¨ã§ããªã„æ„Ÿã˜ã‹ï¼Ÿ
\let\nref\ref
\let\ref\cref

% å‚ç…§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
\crefname{equation}{å¼}{å¼}
\crefname{figure}{å›³}{å›³}
\crefname{subfigure}{å›³}{å›³}
\crefname{table}{è¡¨}{è¡¨}
\crefname{subtable}{è¡¨}{è¡¨}
\crefname{appendix}{ä»˜éŒ²}{ä»˜éŒ²}
\crefname{subappendix}{ä»˜éŒ²}{ä»˜éŒ²}
\crefname{subsubappendix}{ä»˜éŒ²}{ä»˜éŒ²}
\crefname{subsubsubappendix}{ä»˜éŒ²}{ä»˜éŒ²}
\crefformat{lstlisting}{ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ #2#1#3 }  % ç•ªå·å‰å¾Œã«ã¡ã‚‡ã„ã‚¹ãƒšãƒ¼ã‚¹å…¥ã‚Œã¦ã‚‹
\crefformat{page}{#2#1#3{ãƒšãƒ¼ã‚¸}}
\crefrangeformat{page}{#3#1#4{--}#5#2#6{ãƒšãƒ¼ã‚¸}}
\crefmultiformat{page}{#2#1#3{ãƒšãƒ¼ã‚¸}}{, #2#1#3{ãƒšãƒ¼ã‚¸}}{, #2#1#3}{, #2#1#3{ãƒšãƒ¼ã‚¸}}
\crefformat{section}{#2#1#3{ç« }}
\crefrangeformat{section}{#3#1#4{--}#5#2#6{ç« }}
\crefmultiformat{section}{#2#1#3{ç« }}{, #2#1#3{ç« }}{, #2#1#3}{, #2#1#3{ç« }}
\crefformat{subsection}{#2#1#3{ç¯€}}
\crefrangeformat{subsection}{#3#1#4{--}#5#2#6{ç¯€}}
\crefmultiformat{subsection}{#2#1#3{ç¯€}}{, #2#1#3{ç¯€}}{, #2#1#3}{, #2#1#3{ç¯€}}
\crefformat{subsubsection}{#2#1#3{ç¯€}}
\crefrangeformat{subsubsection}{#3#1#4{--}#5#2#6{ç¯€}}
\crefmultiformat{subsubsection}{#2#1#3{ç¯€}}{, #2#1#3{ç¯€}}{, #2#1#3}{, #2#1#3{ç¯€}}
% \crefformat{part}{{ç¬¬}#2#1#3{éƒ¨}}
% \crefformat{chapter}{{ç¬¬}#2#1#3{ç« }}
\def\crefrangeconjunction{--}
\def\crefpairconjunction{, }
\def\crefmiddleconjunction{, }
\def\creflastconjunction{, }
\def\crefpairgroupconjunction{, }
\def\crefmiddlegroupconjunction{, }
\def\creflastgroupconjunction{, }

% TODO:
% hyperefã¨cleverefã®ä½µç”¨æ™‚ã«ï¼Œå›³è¡¨ç•ªå·å‚ç…§å¾Œã®ã‚¹ãƒšãƒ¼ã‚¹ãŒå…¥ã‚‰ãªã„å•é¡Œã®å¿œæ€¥æªç½®ï¼
% ç•ªå·å‰ã«ã¯ã¡ã‚ƒã‚“ã¨å…¥ã£ã¦ã‚‹ã‘ã©å¾Œã«å…¥ã£ã¦ãªã„ã›ã„ã§å¾Œã®æ–‡å­—ã¨ã²ã£ã¤ã„ã¦ã‚‹ï¼
% ä¸‹è¨˜è¨­å®šã‹ï¼Œãã‚‚ãã‚‚hyoerefä½¿ã‚ãªã‘ã‚Œã°ã¡ã‚ƒã‚“ã¨ã‚¹ãƒšãƒ¼ã‚¹å…¥ã‚‹ã‘ã©
% hyperefå´ã®è¨­å®šã†ã¾ãæ›¸ãæ›ãˆã‚ŒãŸã‚‰ã„ã„ã‚“ã ã‘ã©ã‚ã‹ã‚‰ã‚“ï¼ã¨ã‚Šã‚ãˆãšã“ã‚Œã§
\crefformat{figure}{å›³ #2#1#3 }
\crefformat{table}{è¡¨ #2#1#3 }


% ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰
\usepackage{listings}
\lstdefinestyle{ex}{
  frame={trbl},
  frameround={tttt},
  lineskip=-0.7ex,
  numbers=none
}
\lstdefinestyle{default}{
  basicstyle=\ttfamily,
  commentstyle = {\color[cmyk]{1,0.4,1,0}},
  classoffset = 0,  %é–¢æ•°åç­‰ã®è‰²ã®è¨­å®š
  keywordstyle = {\bfseries \color{magenta}},  %ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰(int, ifãªã©)ã®æ›¸ä½“
  %keywordstyle = [2]{\color{violet}},
  stringstyle = {\ttfamily \color[rgb]{0,0,1}},  %""ã§å›²ã¾ã‚ŒãŸãªã©ã®"æ–‡å­—"ã®æ›¸ä½“
  breaklines=true,  %æ å¤–ã«è¡Œã£ãŸæ™‚ã®è‡ªå‹•æ”¹è¡Œ
  escapechar=\`,
  columns=[l]{fullflexible},
  keepspaces=true,
  showstringspaces=false,
  xrightmargin=0em,
  xleftmargin=1em,
  stepnumber=1,
  lineskip=-0.5ex,
  frame={lRtB},
  frameround={nnnn},
  numberstyle={\scriptsize},
  numbers=left
}
\lstset{style=default}  % set default style
\renewcommand{\lstlistingname}{ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰}
% æ–‡æ›¸å…¨ä½“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªå¤‰æ›´ã—ãŸã‘ã‚Šã‡\lstset{language=è¨€èªå}ã™ã£ã¹
% ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå‡ºã—ãŸã‘ã‚Šã‚ƒ\lstset{language=}
% \lstlistoflistings ã§Listingsã®ç›®æ¬¡ä½œã‚‹ã‚ˆ
% Importing code from file
% \lstinputlisting[language=Haskell, caption=Haskell sample code]{sample.hs}


% è¡¨ç´™
\makeatletter
\def\thetitle{\@title}
\def\thesubtitle{\@subtitle}
\def\theauthor{\@author}
\def\thegakka{\@gakka}
\def\thegrade{\@grade}
\def\thestuid{\@stuid}
\def\thedate{\@date}
\def\subtitle#1{\def\@subtitle{#1}}
\def\gakka#1{\def\@gakka{#1}}
\def\grade#1{\def\@grade{#1}}
\def\stuid#1{\def\@stuid{#1}}

\newcommand{\maketitlepage}{%
\thispagestyle{empty}  % ãƒ™ãƒ¼ã‚¸ç•ªå·ãªã—
\null\vfill
\begin{center}
{\Huge \@title \par}
\vspace{5mm}
{\LARGE \@subtitle \par}
\vspace{20mm}
{\Large \@gakka \ \@grade å¹´ \hspace{.5ex} \@stuid å· \par}
\vspace{3mm}
{\Large \@author \par}
\vspace{8mm}
{\Large \@date}
\end{center}
\vfill
\clearpage
\setcounter{page}{1}  % ã“ã“ã‹ã‚‰ãƒšãƒ¼ã‚¸ç•ªå·æŒ¯ã‚Šå§‹ã‚
\pagestyle{plain}
}
\makeatother


% TODO: titlesecã§sectionè¦‹ãŸç›®å¤‰ãˆã‚Œã‚‹
